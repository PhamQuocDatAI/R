# Kiem tra dimensions - chieu cua bien Species
n <- dim(Species)
n
# 45 dong - tuong ung voi 45 sites - vi tri thu thap mau vat
# Tuong ung voi moi vi tri se ghi nhan duoc nhung loai
# sinh vat bien nao
# Co bao nhieu sinh vat bien o vi tri so 1
sum(Species[1,], na.rm = TRUE)
# Ket qua 143 loai sinh vat bien xuat hien o site 1
sum(Species[2,], na.rm = TRUE)
#... Lam 45 lan de kiem tra so luong sinh vat bien xuat hien tai cac site
TA <- vector(length = n[1])
for (i in 1:n[1]) {
TA[i] <- sum(Species[i,], na.rm = TRUE)
}
TA
# Ham rowsums: tinh toan tong cua cac cot trong hang
# tham so na.rm = TRUE => Loai bo cac gia tri NA
TA02 <- rowSums(Species, na.rm = TRUE)
TA02
# Di vao chi tiet tai tung vi tri quan sat
sum(Species[1,]>0, na.rm = TRUE)
# Ket qua chung ta co 11 loai khac nhau xuat hien tai vi tri 1
Richness <- vector(length=n[1])
for (i in 1:n[1]) {
Richness[i] <- sum(Species[i,]>0, na.rm=TRUE)
}
Richness
Richness02 <- rowSums(Species>0, na.rm = TRUE)
Richness02
# Chi so da dang loai
#https://en.wikipedia.org/wiki/Diversity_index
# Tim hieu cach tinh chi so da dang loai
# 10h40.
# H - sum bien chay tu i -> m cua bien p: xac xuat * log10 p
RS <- rowSums(Species, na.rm=TRUE)
prop <- Species / RS
H <- -rowSums(prop * log10(prop), na.rm= TRUE)
H
# Ket hop lai het nhung gi da lam vao 1 ham cua rieng minh
# sau nay su dung de phan tich nhung du lieu tuong tu
Index.function <-function(Spec, Choice){
if (Choice=="Richness") {
Index <- rowSums(Species>0, na.rm = TRUE)
}
if (Choice=="Total Abundance") {
Index <- rowSums(Species, na.rm = TRUE)
}
if (Choice=="Shannon") {
RS <- rowSums(Species, na.rm=TRUE)
prop <- Species / RS
Index <- -rowSums(prop * log10(prop), na.rm= TRUE)
}
list(Index=Index, MyChoice= Choice)
}
Index.function(Species,"Shannon")
Richness
View(Benthic)
Shannon <- Index.function(Species,"Shannon")
Shannon
View(Shannon)
Shannon[["Index"]]
new <- cbind(Richness, Shannon[["Index"]])
View(new)
R> colnames(new)[1] <- Shannon
colnames(new)[1] <- Shannon
new <- cbind(Richness, Shannon[["Index"]])
colnames(new)[1] <- Shannon
new <- cbind(Richness, Shannon[["Index"]])
colnames(new)[1] <- "Shannon"
new <- cbind(Richness, Shannon[["Index"]])
colnames(new)[2] <- "Shannon"
merge(new, Benthic)
test <- merge(new, Benthic)
View(test)
write.table(test, file = "RIKZ_A.txt")
# Su dung ham merge de noi 2 dataframe lai voi nhau
# Su dung ham write.table(dataframe, file = "new_name.txt",...)
# Su dung 2 ham tren ungs dung cho dataset RIKZ.txt
# Bien thanh mot dataset RIKZ_A.txt co chua cac cot Sample, Richness, Shannon
Benthic <-read.table(file="RIKZ_A.txt", header=TRUE)
View(Benthic)
Bent.M
Benthic <-read.table(file="RIKZ2.txt", header=TRUE)
View(Benthic)
Benthic <-read.table(file="RIKZ2.txt", header=TRUE)
Bent.M <-tapply(Benthic$Richness,
INDEX=Benthic$Beach,
FUN=mean)
Bent.M
Bent.sd
Bent.sd <-tapply(Benthic$Richness,
INDEX=Benthic$Beach,
FUN=sd)
Bent.sd
MSD <- cbind(Bent.M, Bent.sd)
MSD
barplot(Bent.M)
bp <- barplot(Bent.M, xlab="Beach",
ylim = c(0,20),
ylab="Richness",
col=rainbow(9)
)
arrows(bp, Bent.M,
bp, Bent.M+Bent.sd,
lwd=1.5,
angle=90,
length=0.1
)
box()
Benth.le <- tapply(Benthic$Richness,
INDEX=Benthic$Beach,
FUN=length)
#se= standard error=
#standard deviation/square root of the sample size
#
Bent.se <- Bent.sd/sqrt(Benth.le)
Bent.se
stripchart(Benthic$Richness~Benthic$Beach,
vert=TRUE,
pch=1,
method="jitter",
jit=0.05,
xlab="Beach",
ylab="Richness")
points(1:9, Bent.M, pch=16,
cex=1.5)
arrows(1:9, Bent.M,
1:9, Bent.M+Bent.se,
lwd=1.5,
angle=90,
length = 0.1)
arrows(1:9, Bent.M,
1:9, Bent.M-Bent.se,
lwd=1.5,
angle=90,
length = 0.1)
setwd("C:\\Users\\PC\\Desktop\\R\\BT R 18-5-2021")
BFDeaths <- read.table("BirdFluDeaths.txt")
BFDeaths <- read.table("BirdFluDeaths.txt", sep = "\t")
View(BFDeaths)
BFDeaths <- read.table("BirdFluDeaths.txt", sep = "\t", header = TRUE)
View(BFDeaths)
names(BFDeaths)
str(BFDeaths)
# Tinh tong so nguoi chet moi nam
rowSums(BFDeaths[,2:16])
names(Deaths) <- rowSums(BFDeaths[,2:16])
# Tinh tong so nguoi chet moi nam
Deaths <- rowSums(BFDeaths[,2:16])
names(Deaths) <- rowSums(BFDeaths[,2:16])
Deaths
names(Deaths) <- BFDeaths[,1])
Deaths
# Tinh tong so nguoi chet moi nam
Deaths <- rowSums(BFDeaths[,2:16])
names(Deaths) <- BFDeaths[,1])
Deaths
# Tinh tong so nguoi chet moi nam
Deaths <-rowSums(BFDeaths[,2:16])
names(Deaths)<-BFDeaths[,1]
Deaths
# Tinh tong so nguoi chet cua moi quoc gia tu 2003-2008
Deaths_col <- colSums((BFDeaths[,2:6]))
names(Deaths_col) <- names(BFDeaths)
# Tinh tong so nguoi chet cua moi quoc gia tu 2003-2008
Deaths_col <- colSums((BFDeaths[,2:16]))
names(Deaths_col) <- names(BFDeaths)
names(Deaths_col) <- names(BFDeaths[,2:16])
Deaths_col
# Ve bieu do
# Bieu do pie chart
par(mfrow=c(2,2), mar= c(3,3,2,1))
pie(Deaths, main = "Total deaths per years")
pie3D(Cases, main = "3D Pie Chart",
explode=0.1,
labels = names(Cases),
labelcex=0.6,)
pie3D(Deaths, main = "3D Pie Chart",
explode=0.1,
labels = names(Cases),
labelcex=0.6,)
barplot(Deaths_col, main="Bird Flu Cases")
barplot(Deaths_col,
main="Total death per country",
ylim = c(0, 120),
)
barplot(Deaths_col,
main="Total death per country",
xlim = c(0, 20),
ylim = c(0, 120),
)
# Ve bieu do
library(ggplot2)
# Bieu do pie chart
g <- ggplot(Deaths, aes(Country, Count))+geom_point(color="firebrick")
# Bieu do pie chart
g <- ggplot(BFDeaths, aes(Country, Count))+geom_point(color="firebrick")
View(g)
View(g)
g[["layers"]][[1]]
g[["mapping"]][["x"]]
g[["mapping"]][["y"]]
rm(g)
# Ve bieu do
# Bieu do pie chart
par(mfrow=c(2,2), mar= c(3,3,2,1))
pie(Deaths, main = "Total deaths per years")
pie3D(Deaths, main = "3D Pie Chart",
explode=0.1,
labels = names(Cases),
labelcex=0.6,)
barplot(Deaths_col,
main="Total death per country",
xlim = c(0, 20),
ylim = c(0, 120),
)
box()
barplot(Deaths_col,
main="Total death per country",
xlim = c(0, 20),
ylim = c(0, 120),
col = "yellow")
barplot(Deaths_col,
main="Total death per country",
xlim = c(0, 20),
ylim = c(0, 120),
col = "blua")
barplot(Deaths_col,
main="Total death per country",
xlim = c(0, 20),
ylim = c(0, 120),
col = "blue")
box()
Vegetation <- read.table("Vegetation2.txt", sep = "\t")
Vegetation <- read.table("Vegetation2.txt", sep = "\t")
View(Vegetation)
Vegetation <- read.table("Vegetation2.txt", sep = "\t", header = TRUE)
View(Vegetation)
names(Vegetation)
str(Vegetation)
Richness <- rowSums(Vegetation[,10:13])
Richness
names(Richness) <- names(Vegetation[,1])
Richness
names(Richness) <- Vegetation[,1]
Richness
Vegetation_new <- cbind(Richness, Vegetation$Transect)
View(Vegetation_new)
View(Vegetation)
colnames(Vegetation_new)[2] <- "Transect"
colnames(Vegetation_new)[o] <- "Name"
colnames(Vegetation_new)[0] <- "Name"
View(Vegetation_new)
View(Vegetation_new)
Benthic <-read.table(file="RIKZ2.txt", header=TRUE)
View(Benthic)
Vegetation_new <- data.frame(Richness, Vegetation$Transect)
View(Vegetation_new)
colnames(Vegetation_new)[2] <- "Transect"
Veg.M <-tapply(Vegetation_new$Richness,
INDEX=Vegetation_new$Transect,
FUN=mean)
Veg.M
Bent.sd <-tapply(Vegetation_new$Richness,
INDEX=Vegetation_new$Transect,
FUN=sd)
Veg.sd <-tapply(Vegetation_new$Richness,
INDEX=Vegetation_new$Transect,
FUN=sd)
Veg.sd
MSD <- cbind(Veg.M, Veg.sd)
MSD
barplot(Veg.M)
bp <- barplot(Veg.M, xlab="Transect",
ylim = c(0,550),
ylab="Richness",
col=rainbow(8)
)
box()
arrows(bp, Bent.M,
bp, Bent.M+Bent.sd,
lwd=1.5,
angle=90,
length=0.1
)
Veg.le <- tapply(Vegetation_new$Richness,
INDEX=Vegetation_new$Beach,
FUN=length)
Veg.le <- tapply(Vegetation_new$Richness,
INDEX=Vegetation_new$Transect,
FUN=length)
Veg.le
Veg.se
Veg.se <- Veg.sd/sqrt(Veg.le)
Veg.se
stripchart(Benthic$Richness~Benthic$Beach,
vert=TRUE,
pch=1,
method="jitter",
jit=0.05,
xlab="Beach",
ylab="Richness")
points(1:9, Bent.M, pch=16,
cex=1.5)
arrows(1:9, Bent.M,
1:9, Bent.M+Bent.se,
lwd=1.5,
angle=90,
length = 0.1)
stripchart(Vegetation_new$Richness~Vegetation_new$Transect,
vert=TRUE,
pch=1,
method="jitter",
jit=0.05,
xlab="Transect",
ylab="Richness")
points(1:8, Veg.M, pch=16,
cex=1.5)
arrows(1:8, Veg.M,
1:9, Veg.M+Veg.se,
lwd=1.5,
angle=90,
length = 0.1)
arrows(1:8, Veg.M,
1:9, Veg.M-Veg.se,
lwd=1.5,
angle=90,
length = 0.1)
arrows(1:8, Veg.M,
1:8, Veg.M-Veg.se,
lwd=1.5,
angle=90,
length = 0.1)
setwd("C:\\Users\\PC\\Desktop\\R\\BT R 18-5-2021")
BFDeaths <- read.table("BirdFluDeaths.txt", sep = "\t", header = TRUE)
names(BFDeaths)
str(BFDeaths)
# Tinh tong so nguoi chet moi nam
Deaths <- rowSums(BFDeaths[,2:16])
names(Deaths) <- BFDeaths[,1]
Deaths
# Tinh tong so nguoi chet cua moi quoc gia tu 2003-2008
Deaths_col <- colSums((BFDeaths[,2:16]))
names(Deaths_col) <- names(BFDeaths[,2:16])
Deaths_col
# Ve bieu do
# Bieu do pie chart
par(mfrow=c(2,2), mar= c(3,3,2,1))
pie(Deaths, main = "Total deaths per years")
pie3D(Deaths, main = "3D Pie Chart",
explode=0.1,
labels = names(Cases),
labelcex=0.6,)
barplot(Deaths_col,
main="Total death per country",
xlim = c(0, 20),
ylim = c(0, 120),
col = "blue")
box()
# Input Data
Vegetation <- read.table("Vegetation2.txt", sep = "\t", header = TRUE)
names(Vegetation)
str(Vegetation)
Richness <- rowSums(Vegetation[,10:13])
names(Richness) <- Vegetation[,1]
Richness
Vegetation_new <- data.frame(Richness, Vegetation$Transect)
colnames(Vegetation_new)[2] <- "Transect"
Veg.M <-tapply(Vegetation_new$Richness,
INDEX=Vegetation_new$Transect,
FUN=mean)
Veg.M
Veg.sd <-tapply(Vegetation_new$Richness,
INDEX=Vegetation_new$Transect,
FUN=sd)
Veg.sd
MSD <- cbind(Veg.M, Veg.sd)
MSD
barplot(Veg.M)
bp <- barplot(Veg.M, xlab="Transect",
ylim = c(0,550),
ylab="Richness",
col=rainbow(8)
)
box()
Veg.le <- tapply(Vegetation_new$Richness,
INDEX=Vegetation_new$Transect,
FUN=length)
Veg.le
Veg.se <- Veg.sd/sqrt(Veg.le)
Veg.se
stripchart(Vegetation_new$Richness~Vegetation_new$Transect,
vert=TRUE,
pch=1,
method="jitter",
jit=0.05,
xlab="Transect",
ylab="Richness")
points(1:8, Veg.M, pch=16,
cex=1.5)
arrows(1:8, Veg.M,
1:9, Veg.M+Veg.se,
lwd=1.5,
angle=90,
length = 0.1)
arrows(1:8, Veg.M,
1:8, Veg.M+Veg.se,
lwd=1.5,
angle=90,
length = 0.1)
arrows(1:8, Veg.M,
1:8, Veg.M-Veg.se,
lwd=1.5,
angle=90,
length = 0.1)
stripchart(Vegetation_new$Richness~Vegetation_new$Transect,
vert=TRUE,
pch=1,
method="jitter",
jit=0.05,
xlab="Transect",
ylab="Richness")
points(1:8, Veg.M, pch=16,
cex=1.5)
arrows(1:8, Veg.M,
1:8, Veg.M+Veg.se,
lwd=1.5,
angle=90,
length = 0.1)
arrows(1:8, Veg.M,
1:8, Veg.M-Veg.se,
lwd=1.5,
angle=90,
length = 0.1)
setwd("C:\\Users\\PC\\Desktop\\R\\BT R 18-5-2021")
BFDeaths <- read.table("BirdFluDeaths.txt", sep = "\t", header = TRUE)
names(BFDeaths)
str(BFDeaths)
# Tinh tong so nguoi chet moi nam
Deaths <- rowSums(BFDeaths[,2:16])
names(Deaths) <- BFDeaths[,1]
Deaths
# Tinh tong so nguoi chet cua moi quoc gia tu 2003-2008
Deaths_col <- colSums((BFDeaths[,2:16]))
names(Deaths_col) <- names(BFDeaths[,2:16])
Deaths_col
# Ve bieu do
# Bieu do pie chart
par(mfrow=c(2,2), mar= c(3,3,2,1))
pie(Deaths, main = "Total deaths per years")
pie3D(Deaths, main = "3D Pie Chart",
explode=0.1,
labels = names(Cases),
labelcex=0.6,)
barplot(Deaths_col,
main="Total death per country",
xlim = c(0, 20),
ylim = c(0, 120),
col = "blue")
box()
# Input Data
Vegetation <- read.table("Vegetation2.txt", sep = "\t", header = TRUE)
names(Vegetation)
str(Vegetation)
Richness <- rowSums(Vegetation[,10:13])
names(Richness) <- Vegetation[,1]
Richness
Vegetation_new <- data.frame(Richness, Vegetation$Transect)
colnames(Vegetation_new)[2] <- "Transect"
Veg.M <-tapply(Vegetation_new$Richness,
INDEX=Vegetation_new$Transect,
FUN=mean)
Veg.M
Veg.sd <-tapply(Vegetation_new$Richness,
INDEX=Vegetation_new$Transect,
FUN=sd)
Veg.sd
MSD <- cbind(Veg.M, Veg.sd)
MSD
barplot(Veg.M)
bp <- barplot(Veg.M, xlab="Transect",
ylim = c(0,550),
ylab="Richness",
col=rainbow(8)
)
box()
Veg.le <- tapply(Vegetation_new$Richness,
INDEX=Vegetation_new$Transect,
FUN=length)
Veg.le
Veg.se <- Veg.sd/sqrt(Veg.le)
Veg.se
stripchart(Vegetation_new$Richness~Vegetation_new$Transect,
vert=TRUE,
pch=1,
method="jitter",
jit=0.05,
xlab="Transect",
ylab="Richness")
points(1:8, Veg.M, pch=16,
cex=1.5)
arrows(1:8, Veg.M,
1:8, Veg.M+Veg.se,
lwd=1.5,
angle=90,
length = 0.1)
arrows(1:8, Veg.M,
1:8, Veg.M-Veg.se,
lwd=1.5,
angle=90,
length = 0.1)
